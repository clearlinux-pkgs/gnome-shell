From ba23fd9989778b32cf7b3377d1d82150e49b9ebd Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Marco=20Trevisan=20=28Trevi=C3=B1o=29?= <mail@3v1n0.net>
Date: Mon, 20 May 2019 23:27:48 +0200
Subject: [PATCH 004/152] lookingGlass: Throw a clearer error on referencing
 invalid result index

https://gitlab.gnome.org/GNOME/gnome-shell/merge_requests/700
---
 js/ui/lookingGlass.js | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/js/ui/lookingGlass.js b/js/ui/lookingGlass.js
index a53fd90db..2c1239cd5 100644
--- a/js/ui/lookingGlass.js
+++ b/js/ui/lookingGlass.js
@@ -1010,7 +1010,11 @@ var LookingGlass = class LookingGlass {
     }
 
     getResult(idx) {
-        return this._results[idx - this._offset].o;
+        try {
+            return this._results[idx - this._offset].o;
+        } catch (e) {
+            throw new Error(`Unknown result at index ${idx}`);
+        }
     }
 
     toggle() {
-- 
2.23.0

